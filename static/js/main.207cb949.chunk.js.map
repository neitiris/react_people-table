{"version":3,"sources":["api/api.js","components/People.js","components/PeopleTable.js","App.js","index.js"],"names":["getPeople","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","people","wrap","_context","prev","next","fetch","concat","sent","json","abrupt","stop","apply","this","arguments","classNames","require","People","props","_props$personData","personData","name","age","sex","century","children","id","died","born","mother","father","handler","selectedPerson","personRowClass","defineProperty","person PeopleTable__row","PeopleTable__row--selected","person--female","person--male","green_border-style","person--mother","undefined","person--father","personClassNameStyle","born-before-1650","died-after-1800","react_default","createElement","key","className","onClick","map","child","defaultProps","PeopleTable","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","sortData","sortCase","length","setState","state","direction","sortedPeopleList","toConsumableArray","peopleData","sort","b","localeCompare","inputValue","_this2","setTimeout","_this3","inputCase","type","onePersonData","components_People","React","Component","App","then","person","index","objectSpread","Math","ceil","filter","src_components_PeopleTable","ReactDOM","render","src_App_0","test","document","getElementById"],"mappings":"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","file":"static/js/main.207cb949.chunk.js","sourcesContent":["const baseUrl = 'https://mate-academy.github.io';\n\nconst getPeople = async() => {\n  const url = '/react_people-table/api/people.json';\n  const response = await fetch(`${baseUrl}${url}`);\n  const people = await response.json();\n\n  return people;\n};\n\nexport default getPeople;\n","import React from 'react';\nimport propTypes from 'prop-types';\n\nconst classNames = require('classnames');\n\nfunction People(props) {\n  const {\n    name, age, sex, century, children,\n    id, died, born, mother, father,\n  } = props.personData;\n  const { handler, selectedPerson } = props;\n  const personRowClass = classNames({\n    'person PeopleTable__row': true,\n    'PeopleTable__row--selected': id === selectedPerson,\n    'person--female': sex === 'f',\n    'person--male': sex === 'm',\n    'green_border-style': age > 65,\n    'person--mother': children !== undefined && sex === 'f',\n    'person--father': children !== undefined && sex === 'm',\n    [`person--lived-in-${century}`]: true,\n  });\n  const personClassNameStyle = classNames({\n    'born-before-1650': born < 1650,\n    'died-after-1800': died > 1800,\n  });\n\n  return (\n    <tr\n      key={`user_${id}`}\n      className={personRowClass}\n      onClick={() => {\n        handler(id);\n      }}\n    >\n      <td className=\"centered\">{id}</td>\n      <td className={personClassNameStyle}>{name}</td>\n      <td className=\"centered\">{sex}</td>\n      <td>{born}</td>\n      <td>{died}</td>\n      <td>{age}</td>\n      <td className=\"centered\">{century}</td>\n      <td>{mother}</td>\n      <td>{father}</td>\n      <td>\n        {children !== undefined\n          ? children.map(child => `${child.name},`) : ''\n        }\n      </td>\n    </tr>\n  );\n}\n\nPeople.propTypes = {\n  personData: propTypes.shape({}).isRequired,\n  handler: propTypes.func.isRequired,\n  selectedPerson: propTypes.number,\n};\nPeople.defaultProps = {\n  selectedPerson: null,\n};\n\nexport default People;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport './PeopleTable.scss';\nimport People from './People';\n\nclass PeopleTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedPerson: null,\n      sortedPeopleList: this.props.peopleData,\n    };\n  }\n\n  componentDidMount() {\n    setTimeout(() => this.sortData(), 70);\n  }\n\n  sortData = (sortCase = 'id') => {\n    this.setState(state => ({\n      direction: state.direction === 1 ? -1 : 1,\n      sortedPeopleList:\n        [...this.props.peopleData]\n          .sort((a, b) => (sortCase === 'name'\n            ? state.direction * a[sortCase].localeCompare(b[sortCase])\n            : state.direction * (b[sortCase] - a[sortCase]))),\n    }));\n  };\n\n  handler = (inputValue) => {\n    this.setState({\n      selectedPerson: inputValue,\n    });\n  };\n\n  render() {\n    const sortCases = ['id', 'name', 'sex', 'born', 'died', 'age'];\n\n    return (\n      <table className=\"PeopleTable\">\n        <thead>\n          <tr className=\"table-head--row\">\n            {sortCases.map(inputCase => (\n              inputCase === 'sex'\n                ? (<td key={`tHead${inputCase}`}>{inputCase}</td>)\n                : (\n                  <td key={`tHead${inputCase}`}>\n                    <button\n                      type=\"button\"\n                      onClick={() => this.sortData(inputCase)}\n                    >\n                      {inputCase}\n                    </button>\n                  </td>\n                )))}\n            <td>century</td>\n            <td>mother</td>\n            <td>father</td>\n            <td>children</td>\n          </tr>\n        </thead>\n        <tbody key=\"tBody\">\n          {\n            this.state.sortedPeopleList\n              .map(onePersonData => (\n                <People\n                  key={`People_${onePersonData.id}`}\n                  personData={onePersonData}\n                  handler={this.handler}\n                  selectedPerson={this.state.selectedPerson}\n                />\n              ))\n          }\n        </tbody>\n      </table>\n    );\n  }\n}\n\nPeopleTable.propTypes = {\n  peopleData: propTypes.arrayOf(propTypes.object).isRequired,\n};\n\nexport default PeopleTable;\n","import React from 'react';\nimport './App.css';\nimport getPeople from './api/api';\nimport PeopleTable from './components/PeopleTable';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      people: [],\n    };\n  }\n\n  async componentDidMount() {\n    await getPeople()\n      .then((peopleData) => {\n        this.setState(\n          {\n            people: [...peopleData].map((person, index) => ({\n              id: index + 1,\n              ...person,\n              age: person.died - person.born,\n              century: Math.ceil(person.died / 100),\n              children: person.sex === 'm'\n                ? [...peopleData].filter(child => child.father === person.name)\n                : [...peopleData].filter(child => child.mother === person.name),\n            })),\n          },\n        );\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <PeopleTable peopleData={this.state.people} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App test={123} />, document.getElementById('root'));\n"],"sourceRoot":""}